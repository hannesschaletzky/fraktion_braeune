---
import fraktion1 from '../assets/1.jpg';
---

<div id="container">
	<canvas id="fireworks"></canvas>
	<main>
		<h1>üèê Fraktion Br√§une</h1>
		<h3>
			Wir sind eine Freundesgruppe die gerne auf Beach Volleyball Events f√§hrt :)
			<br /> <br>
			<a href="https://instagram.com/fraktion_braeune/" target="_blank" rel="noopener noreferrer">‚Üí Instagram</a>
		</h3>
		<img id="fraktion1" src={fraktion1.src} alt="Fraktion Br√§une" fetchpriority="high" />
	</main>
</div>

<script>
	if (typeof window !== "undefined") {
		const canvas = document.getElementById("fireworks") as HTMLCanvasElement;
		const ctx = canvas!.getContext("2d");
		let w: number, h: number;
		function resize() {
			w = canvas.width = window.innerWidth;
			h = canvas.height = window.innerHeight;
		}
		window.addEventListener("resize", resize);
		resize();

		let particles: { x: number; y: number; angle: number; speed: number; radius: number; color: string; life: number; }[] = [];

		function createFirework() {
			const x = Math.random() * w;
			const y = Math.random() * h * 0.6;
			const color = `hsl(${Math.random() * 360}, 100%, 60%)`;
			for (let i = 0; i < 50; i++) {
				particles.push({
					x, y,
					angle: Math.random() * 2 * Math.PI,
					speed: Math.random() * 5 + 1,
					radius: 2,
					color,
					life: 100
				});
			}
		}

		function draw() {
			ctx!.fillStyle = "rgba(0,0,0,0.2)";
			ctx!.fillRect(0, 0, w, h);
			particles.forEach((p, i) => {
				p.x += Math.cos(p.angle) * p.speed;
				p.y += Math.sin(p.angle) * p.speed + 0.1;
				p.life--;
				ctx!.beginPath();
				ctx!.fillStyle = p.color;
				ctx!.arc(p.x, p.y, p.radius, 0, 2 * Math.PI);
				ctx!.fill();
				if (p.life <= 0) particles.splice(i, 1);
			});
			if (Math.random() < 0.05) createFirework();
			requestAnimationFrame(draw);
		}
		draw();
	}
</script>

<style>

	html, body {
		margin: 0;
		padding: 0;
		overflow: hidden; /* prevent scrolling */
		height: 100%;
		color: white;
	}
	#container, main {
		height: 100vh; /* exactly viewport height */
		overflow: hidden;
	}
	#fireworks {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: -1; /* ‚úÖ keep fireworks behind all content */
		background: transparent;
	}

	#container {
		position: relative;
		z-index: 1; /* ‚úÖ content stays above fireworks */
		font-family: Inter, Roboto, 'Helvetica Neue', Arial, sans-serif;
		min-height: 100vh;
		text-align: center;
	}

main {
	min-height: 100vh;
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	padding: 2rem 1rem;
}

#fraktion1 {
	display: block;
	margin: 2rem auto 0 auto;
	border-radius: 16px;
	max-width: 90%;
	max-height: 60vh;
	height: auto;
	object-fit: contain;
	box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2);
}

a, a:visited  {
	text-decoration: none;
	font-weight: bold;
	color: white;
}
a:hover {
	text-decoration: underline;
}
</style>
